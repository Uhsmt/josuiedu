# 技術仕様書

## ファイル構成
```
josui/
├── animations/
│   ├── 01_shochin/          # 初沈池
│   │   ├── index.html
│   │   ├── style.css
│   │   └── script.js
│   ├── 02_hannou/           # 反応槽
│   │   ├── index.html
│   │   ├── style.css
│   │   └── script.js
│   ├── 03_shuuchin/         # 終沈池
│   │   ├── index.html
│   │   ├── style.css
│   │   └── script.js
│   └── shared/
│       ├── common.css       # 共通スタイル
│       ├── animations.css   # 共通アニメーション
│       └── characters.svg   # キャラクター素材
├── material/                # 既存素材
├── references/              # 既存参考資料
├── index.html              # メインランチャー
└── README.md
```

## 技術スタック詳細

### HTML5 基本構造
```html
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>浄水システム - [工程名]</title>
    <link rel="stylesheet" href="../shared/common.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="animation-container">
        <svg class="main-animation" viewBox="0 0 1920 1080">
            <!-- アニメーション要素 -->
        </svg>
        <div class="caption-overlay">
            <!-- キャプション -->
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>
```

### CSS設計原則
- **BEM記法**: ブロック__要素--修飾子
- **CSS Custom Properties**: 色、サイズの一元管理
- **transform**: GPU加速アニメーション
- **レスポンシブ**: fluid typography, flexible grid

### SVGアニメーション戦略
- **SMIL**: `<animateTransform>`, `<animate>`
- **CSS @keyframes**: 複雑なタイミング制御
- **JavaScript**: インタラクティブ要素

### JavaScript機能
- アニメーション制御（再生/停止）
- レスポンシブ対応
- キーボードショートカット（フルスクリーン等）

## パフォーマンス最適化

### 軽量化手法
- SVG最適化（不要属性削除）
- CSS will-change プロパティ
- requestAnimationFrame使用
- 要素の再利用

### 大画面対応
- viewBox活用でスケーラブル
- vector-effect="non-scaling-stroke"
- 適切なstroke-width設定

## ブラウザ対応
- **対象**: Chrome 90+, Firefox 88+, Safari 14+
- **フォールバック**: 古いブラウザ用静止画

## 色彩設計
- **水**: #4A90E2 → #87CEEB（グラデーション）
- **汚れ**: #8B4513 → #D2691E
- **機械**: #708090
- **背景**: #F0F8FF
- **テキスト**: #2C3E50

## アニメーション仕様
- **ループ時間**: 30-60秒
- **フレームレート**: 60fps目標
- **トランジション**: ease-in-out
- **遅延**: stagger効果でリズム感

## アクセシビリティ
- セマンティックHTML
- ARIA属性
- キーボード操作対応
- 動作軽減オプション（prefers-reduced-motion）